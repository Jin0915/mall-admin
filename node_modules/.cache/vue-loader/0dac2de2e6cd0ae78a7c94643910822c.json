{"remainingRequest":"/Users/mac/Desktop/上课教材资源/vue商城项目/mall-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mac/Desktop/上课教材资源/vue商城项目/mall-admin/src/views/User/Info.vue?vue&type=style&index=0&id=dde9da70&lang=scss&scoped=true&","dependencies":[{"path":"/Users/mac/Desktop/上课教材资源/vue商城项目/mall-admin/src/views/User/Info.vue","mtime":1573870081730},{"path":"/Users/mac/Desktop/上课教材资源/vue商城项目/mall-admin/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/mac/Desktop/上课教材资源/vue商城项目/mall-admin/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/mac/Desktop/上课教材资源/vue商城项目/mall-admin/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/mac/Desktop/上课教材资源/vue商城项目/mall-admin/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mac/Desktop/上课教材资源/vue商城项目/mall-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mac/Desktop/上课教材资源/vue商城项目/mall-admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.el-form {\n\twidth: 70%;\n\tmargin: 0 auto;\n}\n\n.avatar-uploader .el-upload {\n\tborder: 1px dashed #d9d9d9;\n\tborder-radius: 6px;\n\tcursor: pointer;\n\tposition: relative;\n\toverflow: hidden;\n\n\t&:hover {\n\t\tborder-color: #409EFF;\n\t}\n\n\t.avatar-uploader-icon {\n\t\tfont-size: 28px;\n\t\tcolor: #8c939d;\n\t\twidth: 178px;\n\t\theight: 178px;\n\t\tline-height: 178px;\n\t\ttext-align: center;\n\t}\n\n\t.avatar {\n\t\twidth: 178px;\n\t\theight: 178px;\n\t\tdisplay: block;\n\t}\n}\n",{"version":3,"sources":["Info.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8EA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"Info.vue","sourceRoot":"src/views/User","sourcesContent":["<template>\n\t<div>\n\t\t<el-card class=\"box-card\">\n\t\t\t<div slot=\"header\" class=\"clearfix\">\n\t\t\t\t<span>账户信息</span>\n\t\t\t</div>\n\t\t\t<el-form :model=\"form\" label-position=\"left\" label-width=\"100px\">\n\t\t\t\t<el-form-item label=\"账户\">\n\t\t\t\t\t<el-input v-model=\"form.username\" disabled auto-complete=\"off\"></el-input>\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item label=\"姓名\">\n\t\t\t\t\t<el-input v-model=\"form.fullname\" auto-complete=\"off\"></el-input>\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item label=\"性别\">\n\t\t\t\t\t<el-radio-group v-model=\"form.sex\">\n\t\t\t\t\t\t<el-radio label=\"男\">男</el-radio>\n\t\t\t\t\t\t<el-radio label=\"女\">女</el-radio>\n\t\t\t\t\t</el-radio-group>\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item label=\"手机\">\n\t\t\t\t\t<el-input v-model.number=\"form.tel\" auto-complete=\"off\"></el-input>\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item label=\"权限\">\n\t\t\t\t\t<el-select v-model=\"form.role\" placeholder=\"请选择账户\">\n\t\t\t\t\t\t<el-option v-for=\"item in roles\" :key=\"item.id\" :label=\"item.name\" :value=\"item.id\"></el-option>\n\t\t\t\t\t</el-select>\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item label=\"头像\">\n\t\t\t\t\t<single-upload default-image=\"/images/avatar/default.jpg\" action=\"/api/upload/avatar/\" :url.sync=\"form.avatar\" />\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-button type=\"primary\" @click=\"updateInfo\">修 改</el-button>\n\t\t\t</el-form>\n\t\t</el-card>\n\t</div>\n</template>\n\n<script>\n\t//引入service模块\n\timport { User, Role } from '@/api/index';\n\timport SingleUpload from '@/components/SingleUpload.vue';\n\n\texport default {\n\t\tcomponents: {\n\t\t\tSingleUpload,\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\troles: [],\n\t\t\t\tform: {}\n\t\t\t};\n\t\t},\n\t\tcreated() {\n\t\t\tthis.loadRole();\n\t\t\t// 双向数据绑定，vuex中的state不适合用计算属性\n\t\t\tthis.form = { ...this.$store.state.User.userInfo };\n\t\t},\n\t\tmethods: {\n\t\t\tasync loadRole() {\n\t\t\t\tlet { status, data } = await Role.list();\n\t\t\t\tif (status) {\n\t\t\t\t\tthis.roles = data;\n\t\t\t\t}\n\t\t\t},\n\t\t\t// 修改账户信息\n\t\t\tupdateInfo() {\n\t\t\t\tlet { role } = this.form;\n\t\t\t\tthis.$store.dispatch('User/Update', { ...this.form }).then((res) => {\n\t\t\t\t\tif (res.status) {\n\t\t\t\t\t\tsessionStorage.role = role;\n\t\t\t\t\t\tthis.$message.success(res.msg);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t}\n\t}\n</script>\n\n<style lang=\"scss\" scoped>\n\t.el-form {\n\t\twidth: 70%;\n\t\tmargin: 0 auto;\n\t}\n\n\t.avatar-uploader .el-upload {\n\t\tborder: 1px dashed #d9d9d9;\n\t\tborder-radius: 6px;\n\t\tcursor: pointer;\n\t\tposition: relative;\n\t\toverflow: hidden;\n\n\t\t&:hover {\n\t\t\tborder-color: #409EFF;\n\t\t}\n\n\t\t.avatar-uploader-icon {\n\t\t\tfont-size: 28px;\n\t\t\tcolor: #8c939d;\n\t\t\twidth: 178px;\n\t\t\theight: 178px;\n\t\t\tline-height: 178px;\n\t\t\ttext-align: center;\n\t\t}\n\n\t\t.avatar {\n\t\t\twidth: 178px;\n\t\t\theight: 178px;\n\t\t\tdisplay: block;\n\t\t}\n\t}\n</style>\n"]}]}