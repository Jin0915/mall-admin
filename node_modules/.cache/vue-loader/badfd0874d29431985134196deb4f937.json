{"remainingRequest":"/Users/mac/Desktop/上课教材资源/vue商城项目/mall-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mac/Desktop/上课教材资源/vue商城项目/mall-admin/src/views/User/List.vue?vue&type=style&index=0&id=52b63290&scoped=true&lang=css&","dependencies":[{"path":"/Users/mac/Desktop/上课教材资源/vue商城项目/mall-admin/src/views/User/List.vue","mtime":1573870081730},{"path":"/Users/mac/Desktop/上课教材资源/vue商城项目/mall-admin/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/mac/Desktop/上课教材资源/vue商城项目/mall-admin/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/mac/Desktop/上课教材资源/vue商城项目/mall-admin/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/mac/Desktop/上课教材资源/vue商城项目/mall-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mac/Desktop/上课教材资源/vue商城项目/mall-admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.cell .avatar {\n\tborder-radius: 50%;\n}\n",{"version":3,"sources":["List.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmJA;AACA;AACA","file":"List.vue","sourceRoot":"src/views/User","sourcesContent":["<template>\n\t<div>\n\t\t<el-card class=\"box-card\">\n\t\t\t<div slot=\"header\" class=\"clearfix\">\n\t\t\t\t<span>用户列表</span>\n\t\t\t</div>\n\t\t\t<el-table :data=\"tableData\" style=\"width: 100%\">\n\t\t\t\t<el-table-column prop=\"id\" label=\"#\">\n\t\t\t\t</el-table-column>\n\t\t\t\t<el-table-column sortable label=\"头像\">\n\t\t\t\t\t<template slot-scope=\"scope\">\n\t\t\t\t\t\t<img :src=\"scope.row.avatar\" class=\"avatar\" width=\"60\" alt=\"\">\n\t\t\t\t\t</template>\n\t\t\t\t</el-table-column>\n\t\t\t\t<el-table-column prop=\"username\" sortable label=\"账号\">\n\t\t\t\t</el-table-column>\n\t\t\t\t<el-table-column prop=\"fullname\" sortable label=\"姓名\">\n\t\t\t\t</el-table-column>\n\t\t\t\t<el-table-column prop=\"sex\" sortable label=\"性别\">\n\t\t\t\t</el-table-column>\n\t\t\t\t<el-table-column prop=\"tel\" sortable label=\"手机\">\n\t\t\t\t</el-table-column>\n\t\t\t\t<el-table-column prop=\"role_name\" sortable label=\"角色\">\n\t\t\t\t\t<template slot-scope=\"scope\">\n\t\t\t\t\t\t<el-tag :type=\"scope.row.role===1?'danger':''\">{{scope.row.role_name}}</el-tag>\n\t\t\t\t\t</template>\n\t\t\t\t</el-table-column>\n\t\t\t\t<el-table-column prop=\"login_time\" width=\"160\" sortable label=\"上次登录\">\n\t\t\t\t</el-table-column>\n\t\t\t\t<el-table-column prop=\"login_count\" sortable label=\"登录次数\">\n\t\t\t\t</el-table-column>\n\t\t\t\t<el-table-column label=\"操作\">\n\t\t\t\t\t<template slot-scope=\"scope\">\n\t\t\t\t\t\t<el-button @click=\"showEditModal(scope.row)\" plain icon=\"el-icon-edit\" size=\"small\" type=\"primary\"></el-button>\n\t\t\t\t\t\t<el-button @click=\"showDeleteModal(scope.row.id)\" :disabled=\"scope.row.id==1\" icon=\"el-icon-delete\" plain size=\"small\"\n\t\t\t\t\t\t type=\"danger\"></el-button>\n\t\t\t\t\t</template>\n\t\t\t\t</el-table-column>\n\t\t\t</el-table>\n\t\t</el-card>\n\t\t<!--编辑数据-->\n\t\t<el-dialog title=\"修改信息\" :visible.sync=\"editModalShow\">\n\t\t\t<el-form :model=\"form\" label-position=\"left\" label-width=\"80px\">\n\t\t\t\t<el-form-item label=\"姓名\">\n\t\t\t\t\t<el-input v-model=\"form.fullname\" auto-complete=\"off\"></el-input>\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item label=\"性别\">\n\t\t\t\t\t<el-radio-group v-model=\"form.sex\">\n\t\t\t\t\t\t<el-radio label=\"男\">男</el-radio>\n\t\t\t\t\t\t<el-radio label=\"女\">女</el-radio>\n\t\t\t\t\t</el-radio-group>\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item label=\"手机\">\n\t\t\t\t\t<el-input v-model.number=\"form.tel\" auto-complete=\"off\"></el-input>\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item label=\"权限\">\n\t\t\t\t\t<el-select v-model=\"form.role\" placeholder=\"请选择账户\">\n\t\t\t\t\t\t<el-option v-for=\"item in roles\" :key=\"item.id\" :label=\"item.name\" :value=\"item.id\"></el-option>\n\t\t\t\t\t</el-select>\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item label=\"头像\">\n\t\t\t\t\t<single-upload default-image=\"/images/avatar/default.jpg\" action=\"/api/upload/avatar/\" :url.sync=\"form.avatar\" />\n\t\t\t\t</el-form-item>\n\t\t\t</el-form>\n\t\t\t<div slot=\"footer\" class=\"dialog-footer\">\n\t\t\t\t<el-button @click=\"editModalShow = false\">取 消</el-button>\n\t\t\t\t<el-button type=\"primary\" @click=\"updateInfo\">确 定</el-button>\n\t\t\t</div>\n\t\t</el-dialog>\n\t</div>\n</template>\n\n<script>\n\t//引入service模块\n\timport { User, Role } from '@/api/index'\n\timport SingleUpload from '@/components/SingleUpload.vue';\n\n\texport default {\n\t\tname: \"List\",\n\t\tcomponents: {\n\t\t\tSingleUpload,\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\ttableData: [],\n\t\t\t\troles: [],\n\t\t\t\teditModalShow: false,\n\t\t\t\tform: {\n\t\t\t\t\tid: \"\",\n\t\t\t\t\tnickname: \"\",\n\t\t\t\t\tsex: \"男\",\n\t\t\t\t\ttel: \"\",\n\t\t\t\t\trole: \"\",\n\t\t\t\t\tavatar: \"\",\n\t\t\t\t},\n\t\t\t};\n\t\t},\n\t\tcreated() {\n\t\t\tthis.loadList();\n\t\t\tthis.loadRole();\n\t\t},\n\t\tmethods: {\n\t\t\tasync loadList() {\n\t\t\t\tlet { status, data } = await User.list();\n\t\t\t\tif (status) {\n\t\t\t\t\tthis.tableData = data;\n\t\t\t\t}\n\t\t\t},\n\t\t\tasync loadRole() {\n\t\t\t\tlet { status, data } = await Role.list();\n\t\t\t\tif (status) {\n\t\t\t\t\tthis.roles = data;\n\t\t\t\t}\n\t\t\t},\n\t\t\tshowEditModal(row) {\n\t\t\t\tthis.editModalShow = true;\n\t\t\t\tthis.form = { ...row };\n\t\t\t},\n\t\t\tshowDeleteModal(id) {\n\t\t\t\tthis.$confirm('此操作将永久删除该账户, 是否继续?', {\n\t\t\t\t\t\ttype: 'warning'\n\t\t\t\t\t})\n\t\t\t\t\t.then(async () => {\n\t\t\t\t\t\tlet { status, msg } = await User.remove({ id });\n\t\t\t\t\t\tif (status) {\n\t\t\t\t\t\t\tthis.$message.success('删除成功！');\n\t\t\t\t\t\t\tthis.loadList();\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch(() => {\n\t\t\t\t\t\tthis.$message.info('已取消删除');\n\t\t\t\t\t});\n\t\t\t},\n\t\t\t// 修改账户信息\n\t\t\tasync updateInfo() {\n\t\t\t\tlet { status, msg } = await User.update({ ...this.form });\n\t\t\t\tif (status) {\n\t\t\t\t\tthis.editModalShow = false;\n\t\t\t\t\tthis.$message.success(msg);\n\t\t\t\t\tthis.loadList();\n\t\t\t\t}\n\t\t\t},\n\t\t}\n\t};\n</script>\n\n<style scoped>\n\t.cell .avatar {\n\t\tborder-radius: 50%;\n\t}\n</style>\n"]}]}