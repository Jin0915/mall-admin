{"remainingRequest":"/Users/mac/Desktop/上课教材资源/vue商城项目/mall-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mac/Desktop/上课教材资源/vue商城项目/mall-admin/src/views/Auth/Role.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mac/Desktop/上课教材资源/vue商城项目/mall-admin/src/views/Auth/Role.vue","mtime":1573870081728},{"path":"/Users/mac/Desktop/上课教材资源/vue商城项目/mall-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mac/Desktop/上课教材资源/vue商城项目/mall-admin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/mac/Desktop/上课教材资源/vue商城项目/mall-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mac/Desktop/上课教材资源/vue商城项目/mall-admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { Role } from \"@/api/index\";\n\nexport default {\n\tname: \"Role\",\n\tdata() {\n\t\treturn {\n\t\t\ttableData: [],\n\t\t\tAddModalVisible: false,\n\t\t\taddForm: {\n\t\t\t\tname: \"\",\n\t\t\t},\n\t\t\tEditModalVisible: false,\n\t\t\teditForm: {\n\t\t\t\tid: \"\",\n\t\t\t\tname: \"\",\n\t\t\t},\n\t\t}\n\t},\n\tcreated() {\n\t\tthis.loadRole();\n\t},\n\tmethods: {\n\t\tasync loadRole() {\n\t\t\tlet { status, data } = await Role.list();\n\t\t\tif (status) {\n\t\t\t\tthis.tableData = data;\n\t\t\t}\n\t\t},\n\t\t//添加角色\n\t\tasync addRoleHandle() {\n\t\t\tlet { status } = await Role.add({ ...this.addForm });\n\t\t\tif (status) {\n\t\t\t\tthis.loadRole();\n\t\t\t\tthis.AddModalVisible = false;\n\t\t\t}\n\t\t},\n\t\t//打开编辑Modal\n\t\topenEditModal(data) {\n\t\t\tthis.EditModalVisible = true;\n\t\t\tthis.editForm = { ...data };\n\t\t},\n\t\t//编辑角色\n\t\tasync updateRoleHandle() {\n\t\t\tlet { status } = await Role.update({ ...this.editForm });\n\t\t\tif (status) {\n\t\t\t\tthis.loadRole();\n\t\t\t\tthis.EditModalVisible = false;\n\t\t\t}\n\t\t},\n\t\t// 确认删除\n\t\topenDeleteModal(id) {\n\t\t\tthis.$confirm('此操作将永久删除该角色及其关联账户, 是否继续？', {\n\t\t\t\t\ttype: 'warning',\n\t\t\t\t})\n\t\t\t\t.then(async () => {\n\t\t\t\t\tlet { status } = await Role.remove({ id });\n\t\t\t\t\tif (status) {\n\t\t\t\t\t\tthis.loadRole();\n\t\t\t\t\t\tthis.$message.success('删除成功!');\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(() => {\n\t\t\t\t\tthis.$message.info('已取消删除');\n\t\t\t\t});\n\t\t},\n\t}\n}\n",{"version":3,"sources":["Role.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+DA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Role.vue","sourceRoot":"src/views/Auth","sourcesContent":["<template>\n\t<div>\n\t\t<el-row :gutter=\"10\">\n\t\t\t<el-col :span=\"10\">\n\t\t\t\t<el-card class=\"role-card\">\n\t\t\t\t\t<div slot=\"header\" class=\"header\">\n\t\t\t\t\t\t<span>角色列表</span>\n\t\t\t\t\t\t<el-button plain type=\"primary\" @click=\"AddModalVisible = true\" icon=\"el-icon-circle-plus-outline\">添加角色\n\t\t\t\t\t\t</el-button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<el-table :data=\"tableData\" style=\"width: 100%\">\n\t\t\t\t\t\t<el-table-column prop=\"id\" label=\"#\">\n\t\t\t\t\t\t</el-table-column>\n\t\t\t\t\t\t<el-table-column label=\"角色\">\n\t\t\t\t\t\t\t<template slot-scope=\"scope\">\n\t\t\t\t\t\t\t\t<el-tag :type=\"scope.row.id===1?'danger':''\">{{scope.row.name}}</el-tag>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</el-table-column>\n\t\t\t\t\t\t<el-table-column width=\"180\" label=\"操作\">\n\t\t\t\t\t\t\t<template slot-scope=\"scope\">\n\t\t\t\t\t\t\t\t<el-button :disabled=\"scope.row.id===1\" type=\"primary\" plain @click=\"openEditModal(scope.row)\" icon=\"el-icon-edit\"></el-button>\n\t\t\t\t\t\t\t\t<el-button :disabled=\"scope.row.id===1\" type=\"danger\" plain @click=\"openDeleteModal(scope.row.id)\" icon=\"el-icon-delete\"></el-button>\n\t\t\t\t\t\t\t\t<router-link class=\"am-margin-left-sm\" :to=\"{ name: 'RoleConfig', params: { id: scope.row.id }}\">\n\t\t\t\t\t\t\t\t\t<el-button type=\"primary\" plain icon=\"el-icon-setting\"></el-button>\n\t\t\t\t\t\t\t\t</router-link>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</el-table-column>\n\t\t\t\t\t</el-table>\n\t\t\t\t</el-card>\n\t\t\t</el-col>\n\t\t\t<el-col :span=\"14\">\n\t\t\t\t<router-view></router-view>\n\t\t\t</el-col>\n\t\t</el-row>\n\t\t<!-- 添加Modal -->\n\t\t<el-dialog title=\"添加角色\" :visible.sync=\"AddModalVisible\">\n\t\t\t<el-form label-width=\"80px\" :label-position=\"'left'\">\n\t\t\t\t<el-form-item label=\"名称\">\n\t\t\t\t\t<el-input v-model=\"addForm.name\"></el-input>\n\t\t\t\t</el-form-item>\n\t\t\t</el-form>\n\t\t\t<div slot=\"footer\" class=\"dialog-footer\">\n\t\t\t\t<el-button @click=\"AddModalVisible = false\">取 消</el-button>\n\t\t\t\t<el-button type=\"primary\" @click=\"addRoleHandle\">确 定</el-button>\n\t\t\t</div>\n\t\t</el-dialog>\n\t\t<!-- 编辑Modal -->\n\t\t<el-dialog title=\"编辑角色\" :visible.sync=\"EditModalVisible\">\n\t\t\t<el-form label-width=\"80px\" :label-position=\"'left'\">\n\t\t\t\t<el-form-item label=\"名称\">\n\t\t\t\t\t<el-input v-model=\"editForm.name\"></el-input>\n\t\t\t\t</el-form-item>\n\t\t\t</el-form>\n\t\t\t<div slot=\"footer\" class=\"dialog-footer\">\n\t\t\t\t<el-button @click=\"EditModalVisible = false\">取 消</el-button>\n\t\t\t\t<el-button type=\"primary\" @click=\"updateRoleHandle\">确 定</el-button>\n\t\t\t</div>\n\t\t</el-dialog>\n\t</div>\n\n</template>\n\n<script>\n\timport { Role } from \"@/api/index\";\n\n\texport default {\n\t\tname: \"Role\",\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\ttableData: [],\n\t\t\t\tAddModalVisible: false,\n\t\t\t\taddForm: {\n\t\t\t\t\tname: \"\",\n\t\t\t\t},\n\t\t\t\tEditModalVisible: false,\n\t\t\t\teditForm: {\n\t\t\t\t\tid: \"\",\n\t\t\t\t\tname: \"\",\n\t\t\t\t},\n\t\t\t}\n\t\t},\n\t\tcreated() {\n\t\t\tthis.loadRole();\n\t\t},\n\t\tmethods: {\n\t\t\tasync loadRole() {\n\t\t\t\tlet { status, data } = await Role.list();\n\t\t\t\tif (status) {\n\t\t\t\t\tthis.tableData = data;\n\t\t\t\t}\n\t\t\t},\n\t\t\t//添加角色\n\t\t\tasync addRoleHandle() {\n\t\t\t\tlet { status } = await Role.add({ ...this.addForm });\n\t\t\t\tif (status) {\n\t\t\t\t\tthis.loadRole();\n\t\t\t\t\tthis.AddModalVisible = false;\n\t\t\t\t}\n\t\t\t},\n\t\t\t//打开编辑Modal\n\t\t\topenEditModal(data) {\n\t\t\t\tthis.EditModalVisible = true;\n\t\t\t\tthis.editForm = { ...data };\n\t\t\t},\n\t\t\t//编辑角色\n\t\t\tasync updateRoleHandle() {\n\t\t\t\tlet { status } = await Role.update({ ...this.editForm });\n\t\t\t\tif (status) {\n\t\t\t\t\tthis.loadRole();\n\t\t\t\t\tthis.EditModalVisible = false;\n\t\t\t\t}\n\t\t\t},\n\t\t\t// 确认删除\n\t\t\topenDeleteModal(id) {\n\t\t\t\tthis.$confirm('此操作将永久删除该角色及其关联账户, 是否继续？', {\n\t\t\t\t\t\ttype: 'warning',\n\t\t\t\t\t})\n\t\t\t\t\t.then(async () => {\n\t\t\t\t\t\tlet { status } = await Role.remove({ id });\n\t\t\t\t\t\tif (status) {\n\t\t\t\t\t\t\tthis.loadRole();\n\t\t\t\t\t\t\tthis.$message.success('删除成功!');\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch(() => {\n\t\t\t\t\t\tthis.$message.info('已取消删除');\n\t\t\t\t\t});\n\t\t\t},\n\t\t}\n\t}\n</script>\n\n<style lang=\"scss\" scoped>\n\t.role-card {\n\t\t.header {\n\t\t\tdisplay: flex;\n\t\t\tjustify-content: space-between;\n\t\t\talign-items: center;\n\t\t}\n\t}\n</style>\n"]}]}