{"remainingRequest":"/Users/mac/Desktop/上课教材资源/vue商城项目/mall-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mac/Desktop/上课教材资源/vue商城项目/mall-admin/src/views/Goods/List.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mac/Desktop/上课教材资源/vue商城项目/mall-admin/src/views/Goods/List.vue","mtime":1573870081729},{"path":"/Users/mac/Desktop/上课教材资源/vue商城项目/mall-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mac/Desktop/上课教材资源/vue商城项目/mall-admin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/mac/Desktop/上课教材资源/vue商城项目/mall-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mac/Desktop/上课教材资源/vue商城项目/mall-admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { Goods } from '@/api/index';\n\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\ttableData: [],\n\t\t\ttotal: 0,\n\t\t\tpageSize: 4,\n\t\t\tpageIndex: 1,\n\t\t};\n\t},\n\tcreated() {\n\t\tthis.loadGoodsList();\n\t},\n\tmethods: {\n\t\tasync loadGoodsList() {\n\t\t\tlet { status, goods, total } = await Goods.list({\n\t\t\t\tpageIndex: this.pageIndex,\n\t\t\t\tpageSize: this.pageSize,\n\t\t\t});\n\t\t\tif (status) {\n\t\t\t\tthis.tableData = goods;\n\t\t\t\tthis.total = total;\n\t\t\t}\n\t\t},\n\t\t// 分页器改变页码数\n\t\tcurrentPageChange(pageIndex) {\n\t\t\tthis.pageIndex = pageIndex;\n\t\t\tthis.loadGoodsList();\n\t\t},\n\t\t// 分页器pageSize改变\n\t\tpageSizeChange(size) {\n\t\t\tthis.pageSize = size;\n\t\t\tthis.loadGoodsList();\n\t\t},\n\t\tasync showDeleteModal(id) {\n\t\t\tthis.$confirm('确定要删除该商品吗？删除之后无法恢复！！！', {\n\t\t\t\t\ttype: 'warning'\n\t\t\t\t})\n\t\t\t\t.then(async () => {\n\t\t\t\t\tlet { status, msg } = await Goods.remove({ id });\n\t\t\t\t\tif (status) {\n\t\t\t\t\t\tthis.$message.success('删除成功！');\n\t\t\t\t\t\tthis.loadGoodsList();\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(() => {\n\t\t\t\t\tthis.$message.info('已取消删除');\n\t\t\t\t});\n\t\t},\n\t}\n};\n",{"version":3,"sources":["List.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4CA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"List.vue","sourceRoot":"src/views/Goods","sourcesContent":["<template>\n\t<div>\n\t\t<el-card class=\"box-card\">\n\t\t\t<div slot=\"header\" class=\"clearfix\">\n\t\t\t\t<span>商品列表</span>\n\t\t\t</div>\n\t\t\t<!-- 表格 -->\n\t\t\t<el-table :data=\"tableData\" style=\"width:100%\">\n\t\t\t\t<el-table-column fixed label=\"商品名称\" width=\"550\">\n\t\t\t\t\t<template slot-scope=\"scope\">\n\t\t\t\t\t\t<div class=\"goods\">\n\t\t\t\t\t\t\t<div class=\"img\">\n\t\t\t\t\t\t\t\t<img :src=\"scope.row.img_md\" />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"name\">\n\t\t\t\t\t\t\t\t<span>{{scope.row.name}}</span>\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t<span>商品货号：{{scope.row.articleNo}}</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</template>\n\t\t\t\t</el-table-column>\n\t\t\t\t<el-table-column sortable prop=\"price\" label=\"价格\">\n\t\t\t\t</el-table-column>\n\t\t\t\t<el-table-column sortable prop=\"inventory\" label=\"库存\">\n\t\t\t\t</el-table-column>\n\t\t\t\t<el-table-column sortable prop=\"create_time\" label=\"发布时间\">\n\t\t\t\t</el-table-column>\n\t\t\t\t<el-table-column label=\"操作\">\n\t\t\t\t\t<template slot-scope=\"scope\">\n\t\t\t\t\t\t<router-link class=\"am-margin-right-sm\" :to=\"{ name: 'GoodsEdit', params: { id: scope.row.id }}\">\n\t\t\t\t\t\t\t<el-button type=\"primary\" plain icon=\"el-icon-edit\" size=\"small\"></el-button>\n\t\t\t\t\t\t</router-link>\n\t\t\t\t\t\t<el-button @click=\"showDeleteModal(scope.row.id)\" icon=\"el-icon-delete\" plain type=\"danger\"></el-button>\n\t\t\t\t\t</template>\n\t\t\t\t</el-table-column>\n\t\t\t</el-table>\n\t\t\t<!-- 分页器 -->\n\t\t\t<el-pagination :page-sizes=\"[4,8,16,32]\" :page-size=\"pageSize\" :total=\"total\" @size-change=\"pageSizeChange\"\n\t\t\t @current-change=\"currentPageChange\" background layout=\"->,prev,pager,next,sizes,total\" class=\"am-margin-top-sm\"></el-pagination>\n\t\t</el-card>\n\t</div>\n</template>\n<script>\n\timport { Goods } from '@/api/index';\n\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\ttableData: [],\n\t\t\t\ttotal: 0,\n\t\t\t\tpageSize: 4,\n\t\t\t\tpageIndex: 1,\n\t\t\t};\n\t\t},\n\t\tcreated() {\n\t\t\tthis.loadGoodsList();\n\t\t},\n\t\tmethods: {\n\t\t\tasync loadGoodsList() {\n\t\t\t\tlet { status, goods, total } = await Goods.list({\n\t\t\t\t\tpageIndex: this.pageIndex,\n\t\t\t\t\tpageSize: this.pageSize,\n\t\t\t\t});\n\t\t\t\tif (status) {\n\t\t\t\t\tthis.tableData = goods;\n\t\t\t\t\tthis.total = total;\n\t\t\t\t}\n\t\t\t},\n\t\t\t// 分页器改变页码数\n\t\t\tcurrentPageChange(pageIndex) {\n\t\t\t\tthis.pageIndex = pageIndex;\n\t\t\t\tthis.loadGoodsList();\n\t\t\t},\n\t\t\t// 分页器pageSize改变\n\t\t\tpageSizeChange(size) {\n\t\t\t\tthis.pageSize = size;\n\t\t\t\tthis.loadGoodsList();\n\t\t\t},\n\t\t\tasync showDeleteModal(id) {\n\t\t\t\tthis.$confirm('确定要删除该商品吗？删除之后无法恢复！！！', {\n\t\t\t\t\t\ttype: 'warning'\n\t\t\t\t\t})\n\t\t\t\t\t.then(async () => {\n\t\t\t\t\t\tlet { status, msg } = await Goods.remove({ id });\n\t\t\t\t\t\tif (status) {\n\t\t\t\t\t\t\tthis.$message.success('删除成功！');\n\t\t\t\t\t\t\tthis.loadGoodsList();\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch(() => {\n\t\t\t\t\t\tthis.$message.info('已取消删除');\n\t\t\t\t\t});\n\t\t\t},\n\t\t}\n\t};\n</script>\n<style lang=\"scss\" scoped>\n\t.goods {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\n\t\t.img {\n\t\t\tmargin-right: 6px;\n\t\t\tborder: 1px solid #eee;\n\t\t}\n\n\t\t.img img {\n\t\t\twidth: 80px;\n\t\t\tdisplay: block;\n\t\t}\n\t}\n</style>\n"]}]}