{"remainingRequest":"/Users/mac/Desktop/上课教材资源/vue商城项目/mall-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mac/Desktop/上课教材资源/vue商城项目/mall-admin/src/views/Goods/Release.vue?vue&type=style&index=0&id=36314138&scoped=true&lang=css&","dependencies":[{"path":"/Users/mac/Desktop/上课教材资源/vue商城项目/mall-admin/src/views/Goods/Release.vue","mtime":1573870081729},{"path":"/Users/mac/Desktop/上课教材资源/vue商城项目/mall-admin/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/mac/Desktop/上课教材资源/vue商城项目/mall-admin/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/mac/Desktop/上课教材资源/vue商城项目/mall-admin/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/mac/Desktop/上课教材资源/vue商城项目/mall-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mac/Desktop/上课教材资源/vue商城项目/mall-admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.tip {\n\tfont-size: 12px;\n\tcolor: #999;\n}\n\n.section-title {\n\tbackground-color: #f5f5f5;\n\tpadding: 10px;\n\tmargin-bottom: 10px;\n}\n\n.el-upload img {\n\tmax-width: 100%;\n}\n\n.w-e-toolbar {\n\tborder: 1px solid #ccc;\n\tborder-bottom: 0;\n}\n\n.w-e-text-container {\n\tborder: 1px solid #ccc;\n\tmin-height: 1500px;\n\theight: 1500px;\n}\n",{"version":3,"sources":["Release.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2VA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"Release.vue","sourceRoot":"src/views/Goods","sourcesContent":["<template>\n\t<div>\n\t\t<el-card class=\"box-card\">\n\t\t\t<div slot=\"header\" class=\"clearfix\">\n\t\t\t\t<span>发布新商品</span>\n\t\t\t</div>\n\t\t\t<el-form ref=\"form\" :model=\"form\" label-position=\"left\" label-width=\"120px\">\n\t\t\t\t<el-form-item label=\"商品分类\">\n\t\t\t\t\t<el-select v-model=\"form.cate_1st\" placeholder=\"请选择分类\">\n\t\t\t\t\t\t<el-option v-for=\"item in cate_1st_options\" :key=\"item.id\" :label=\"item.name\" :value=\"item.id\"></el-option>\n\t\t\t\t\t</el-select>\n\t\t\t\t\t<el-select v-model=\"form.cate_2nd\" placeholder=\"请选择分类\">\n\t\t\t\t\t\t<el-option v-for=\"item in cate_2nd_options\" :key=\"item.id\" :label=\"item.name\" :value=\"item.id\"></el-option>\n\t\t\t\t\t</el-select>\n\t\t\t\t\t<el-select v-model=\"form.cate_3rd\" placeholder=\"请选择分类\">\n\t\t\t\t\t\t<el-option v-for=\"item in cate_3rd_options\" :key=\"item.id\" :label=\"item.name\" :value=\"item.id\"></el-option>\n\t\t\t\t\t</el-select>\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item label=\"商品名称\">\n\t\t\t\t\t<el-col :span=\"14\">\n\t\t\t\t\t\t<el-input v-model.trim=\"form.name\"></el-input>\n\t\t\t\t\t</el-col>\n\t\t\t\t\t<el-col :span=\"24\" class=\"tip\">商品标题名称长度至少3个字符，最长200个汉字</el-col>\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item label=\"商品卖点\">\n\t\t\t\t\t<el-col :span=\"14\">\n\t\t\t\t\t\t<el-input type=\"textarea\" v-model.trim=\"form.hotPoint\"></el-input>\n\t\t\t\t\t</el-col>\n\t\t\t\t\t<el-col :span=\"24\" class=\"tip\">商品卖点不能超过140个汉字</el-col>\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item label=\"商品价格\">\n\t\t\t\t\t<el-col :span=\"3\">\n\t\t\t\t\t\t<el-input v-model.trim.number=\"form.price\">\n\t\t\t\t\t\t\t<template slot=\"append\">元</template>\n\t\t\t\t\t\t</el-input>\n\t\t\t\t\t</el-col>\n\t\t\t\t\t<el-col :span=\"24\" class=\"tip\">价格必须是0-999999之间的数字，且不能高于市场价</el-col>\n\t\t\t\t\t<el-col :span=\"24\" class=\"tip\">此价格为商品实际销售价格，如果商品存在规格，改价格显示最低价格</el-col>\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item label=\"市场价\">\n\t\t\t\t\t<el-col :span=\"3\">\n\t\t\t\t\t\t<el-input v-model.trim.number=\"form.marketPrice\">\n\t\t\t\t\t\t\t<template slot=\"append\">元</template>\n\t\t\t\t\t\t</el-input>\n\t\t\t\t\t</el-col>\n\t\t\t\t\t<el-col :span=\"24\" class=\"tip\">价格必须是0-999999之间的数字，此价格仅为市场参考价，请根据实际情况认真填写</el-col>\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item label=\"成本价\">\n\t\t\t\t\t<el-col :span=\"3\">\n\t\t\t\t\t\t<el-input v-model.trim.number=\"form.cost\">\n\t\t\t\t\t\t\t<template slot=\"append\">元</template>\n\t\t\t\t\t\t</el-input>\n\t\t\t\t\t</el-col>\n\t\t\t\t\t<el-col :span=\"24\" class=\"tip\">价格必须是0-999999之间的数字，此价格为商户对所销售的商品的实际成本价进行备注记录，非必填选项，不会在前台销售页面中显示</el-col>\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item label=\"折扣\">\n\t\t\t\t\t<el-col :span=\"3\">\n\t\t\t\t\t\t<el-input readonly v-model=\"discount\">\n\t\t\t\t\t\t\t<template slot=\"append\">折</template>\n\t\t\t\t\t\t</el-input>\n\t\t\t\t\t</el-col>\n\t\t\t\t\t<el-col :span=\"24\" class=\"tip\">根据销售价与市场价比例自动生成不需要编辑</el-col>\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item label=\"商品库存\">\n\t\t\t\t\t<el-col :span=\"3\">\n\t\t\t\t\t\t<el-input v-model.trim.number=\"form.inventory\">\n\t\t\t\t\t\t\t<template slot=\"append\">件</template>\n\t\t\t\t\t\t</el-input>\n\t\t\t\t\t</el-col>\n\t\t\t\t\t<el-col :span=\"24\" class=\"tip\">价格必须是0-999999之间的整数</el-col>\n\t\t\t\t\t<el-col :span=\"24\" class=\"tip\">若启动了库存配置，则系统自动计算商品的总数，此处无需卖家填写</el-col>\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item label=\"商品货号\">\n\t\t\t\t\t<el-col :span=\"3\">\n\t\t\t\t\t\t<el-input v-model.trim=\"form.articleNo\"></el-input>\n\t\t\t\t\t</el-col>\n\t\t\t\t\t<el-col :span=\"24\" class=\"tip\">商品货号是商家管理商品的编号，买家不可见</el-col>\n\t\t\t\t\t<el-col :span=\"24\" class=\"tip\">最多输入20个字符，只支持输入中文、字母、数字、_、/、-和小数点</el-col>\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item label=\"商品主图\">\n\t\t\t\t\t<el-upload :limit=\"1\" list-type=\"picture-card\" action=\"/api/upload/goods/\" :headers=\"headers\" :before-upload=\"handleBeforeUpload\"\n\t\t\t\t\t :on-success=\"handleMainSuccess\" :before-remove=\"handleMainBeforeRemove\" :on-exceed=\"handleMainExceed\" :on-error=\"handleError\"\n\t\t\t\t\t :on-preview=\"handleCardPreview\">\n\t\t\t\t\t\t<i class=\"el-icon-plus\"></i>\n\t\t\t\t\t</el-upload>\n\t\t\t\t\t<el-col :span=\"24\" class=\"tip\">上传商品默认主图，如多规格时将默认图片或分规格上传规格主图，支持jpg、if、png格式上传或从图片空间选中，建议使用尺寸\n\t\t\t\t\t\t800*800像素以上，大小不超过1M的正方形图片，上传后的图片将自动保存在图片空间的默认分类中</el-col>\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item label=\"商品轮播图\">\n\t\t\t\t\t<el-upload :limit=\"6\" list-type=\"picture-card\" action=\"/api/upload/slider/\" :headers=\"headers\" :before-upload=\"handleBeforeUpload\"\n\t\t\t\t\t :on-success=\"handleSliderSuccess\" :on-exceed=\"handleSliderExceed\" :before-remove=\"handleSliderBeforeRemove\"\n\t\t\t\t\t :on-error=\"handleError\" :on-preview=\"handleCardPreview\">\n\t\t\t\t\t\t<i class=\"el-icon-plus\"></i>\n\t\t\t\t\t</el-upload>\n\t\t\t\t\t<el-col :span=\"24\" class=\"tip\">上传商品默认主图，如多规格时将默认图片或分规格上传规格主图，支持jpg、if、png格式上传或从图片空间选中，建议使用尺寸\n\t\t\t\t\t\t800*800像素以上，大小不超过1M的正方形图片，上传后的图片将自动保存在图片空间的默认分类中</el-col>\n\t\t\t\t</el-form-item>\n\t\t\t\t<div class=\"section-title\">商品详情描述</div>\n\t\t\t\t<el-form-item label=\"商品品牌\">\n\t\t\t\t\t<el-col :span=\"14\">\n\t\t\t\t\t\t<el-input v-model.trim=\"form.brand\"></el-input>\n\t\t\t\t\t</el-col>\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item label=\"商品描述\">\n\t\t\t\t\t<div ref=\"toolbar\" class=\"w-e-toolbar\"></div>\n\t\t\t\t\t<div ref=\"editor\" class=\"w-e-text-container\"></div>\n\t\t\t\t</el-form-item>\n\t\t\t\t<div class=\"section-title\">商品物流信息</div>\n\t\t\t\t<el-form-item label=\"所在地\">\n\t\t\t\t\t<el-select v-model=\"form.province\" placeholder=\"请选择活动区域\">\n\t\t\t\t\t\t<el-option label=\"区域一\" value=\"shanghai\"></el-option>\n\t\t\t\t\t\t<el-option label=\"区域二\" value=\"beijing\"></el-option>\n\t\t\t\t\t\t<el-option label=\"区域三\" value=\"beijing\"></el-option>\n\t\t\t\t\t</el-select>\n\t\t\t\t\t<el-select v-model=\"form.city\" placeholder=\"请选择活动区域\">\n\t\t\t\t\t\t<el-option label=\"区域一\" value=\"shanghai\"></el-option>\n\t\t\t\t\t\t<el-option label=\"区域二\" value=\"beijing\"></el-option>\n\t\t\t\t\t\t<el-option label=\"区域三\" value=\"beijing\"></el-option>\n\t\t\t\t\t</el-select>\n\t\t\t\t\t<el-select v-model=\"form.area\" placeholder=\"请选择活动区域\">\n\t\t\t\t\t\t<el-option label=\"区域一\" value=\"shanghai\"></el-option>\n\t\t\t\t\t\t<el-option label=\"区域二\" value=\"beijing\"></el-option>\n\t\t\t\t\t\t<el-option label=\"区域三\" value=\"beijing\"></el-option>\n\t\t\t\t\t</el-select>\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item label=\"运费\">\n\t\t\t\t\t<el-col :span=\"3\">\n\t\t\t\t\t\t<el-input v-model.trim=\"form.freight\">\n\t\t\t\t\t\t\t<template slot=\"append\">元</template>\n\t\t\t\t\t\t</el-input>\n\t\t\t\t\t</el-col>\n\t\t\t\t\t<el-col :span=\"24\" class=\"tip\">运费设为0，前台商品将显示免运费</el-col>\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item>\n\t\t\t\t\t<el-button type=\"success\" @click=\"releaseHandle\">提交</el-button>\n\t\t\t\t</el-form-item>\n\t\t\t</el-form>\n\t\t\t<!-- 图片预览 -->\n\t\t\t<el-dialog width=\"30%\" :visible.sync=\"dialogVisible\">\n\t\t\t\t<img width=\"100%\" :src=\"dialogImageUrl\" alt=\"\">\n\t\t\t</el-dialog>\n\t\t</el-card>\n\t</div>\n</template>\n<script>\n\timport { Upload, Category, Goods } from '@/api/index';\n\timport E from \"wangeditor\";\n\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tdialogImageUrl: '',\n\t\t\t\tdialogVisible: false,\n\t\t\t\theaders: {\n\t\t\t\t\tAuthorization: `Bearer ${sessionStorage.token}`\n\t\t\t\t},\n\t\t\t\tform: {\n\t\t\t\t\tcate_1st: \"\",\n\t\t\t\t\tcate_2nd: \"\",\n\t\t\t\t\tcate_3rd: \"\",\n\t\t\t\t\thotPoint: \"\",\n\t\t\t\t\tname: \"\",\n\t\t\t\t\tprice: \"\",\n\t\t\t\t\tmarketPrice: \"\",\n\t\t\t\t\tcost: \"\",\n\t\t\t\t\tdiscount: \"\",\n\t\t\t\t\tinventory: \"\",\n\t\t\t\t\tarticleNo: \"\",\n\t\t\t\t\timg_lg: \"\",\n\t\t\t\t\timg_md: \"\",\n\t\t\t\t\tslider: \"\",\n\t\t\t\t\tbrand: \"\",\n\t\t\t\t\tdetail: \"\",\n\t\t\t\t\tfreight: \"0\",\n\t\t\t\t\tprovince: \"山东省\",\n\t\t\t\t\tcity: \"青岛市\",\n\t\t\t\t\tarea: \"城阳区\",\n\t\t\t\t},\n\t\t\t\tcate_1st_options: [],\n\t\t\t\tcate_2nd_options: [],\n\t\t\t\tcate_3rd_options: [],\n\t\t\t};\n\t\t},\n\t\tcomputed: {\n\t\t\tdiscount() {\n\t\t\t\tlet num = (this.form.price / this.form.marketPrice * 10).toFixed(2);\n\t\t\t\tthis.form.discount = num;\n\t\t\t\tswitch (num) {\n\t\t\t\t\tcase 'NaN':\n\t\t\t\t\t\treturn '';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'Infinity':\n\t\t\t\t\t\treturn '';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treturn num;\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t},\n\t\t},\n\t\tmounted() {\n\t\t\tconst editor = new E(this.$refs.toolbar, this.$refs.editor);\n\t\t\teditor.customConfig.zIndex = 100\n\t\t\t//配置上传图片\n\t\t\teditor.customConfig.uploadImgServer = '/api/upload/editor/';\n\t\t\teditor.customConfig.uploadFileName = 'file';\n\t\t\t// 配置header信息\n\t\t\teditor.customConfig.uploadImgHeaders = {\n\t\t\t\tAuthorization: `Bearer ${sessionStorage.token}`\n\t\t\t};\n\t\t\t//同步HTML代码至data\n\t\t\teditor.customConfig.onchange = html => {\n\t\t\t\tthis.form.detail = html;\n\t\t\t};\n\t\t\teditor.create();\n\t\t},\n\t\tcreated() {\n\t\t\tthis.cateChangeHandle(1, 'cate_1st');\n\t\t},\n\t\twatch: {\n\t\t\t'form.cate_1st'(newValue, oldValue) {\n\t\t\t\tthis.cateChangeHandle(newValue, 'cate_2nd');\n\t\t\t},\n\t\t\t'form.cate_2nd'(newValue, oldValue) {\n\t\t\t\tthis.cateChangeHandle(newValue, 'cate_3rd');\n\t\t\t},\n\t\t},\n\t\tmethods: {\n\t\t\t//分类change事件\n\t\t\tcateChangeHandle(id, cate) {\n\t\t\t\tif (!id) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tthis.getOptions(id).then((data) => {\n\t\t\t\t\tthis[cate + '_options'] = data;\n\t\t\t\t\t//如果数组为空，下一级分类设置为空\n\t\t\t\t\tif (data.length == 0) {\n\t\t\t\t\t\tthis.form[cate] = '';\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\t//默认选择数组第一项\n\t\t\t\t\tthis.form[cate] = data[0].id;\n\t\t\t\t});\n\t\t\t},\n\t\t\t//获取下一级分类\n\t\t\tasync getOptions(id) {\n\t\t\t\tlet { status, data, msg } = await Category.load({ pId: id });\n\t\t\t\tif (status) {\n\t\t\t\t\treturn Promise.resolve(data);\n\t\t\t\t} else {\n\t\t\t\t\tthis.$message.error(msg);\n\t\t\t\t}\n\t\t\t},\n\t\t\thandleMainSuccess({ status, lgImg, mdImg }) {\n\t\t\t\tif (status) {\n\t\t\t\t\tthis.form.img_lg = lgImg;\n\t\t\t\t\tthis.form.img_md = mdImg;\n\t\t\t\t}\n\t\t\t},\n\t\t\thandleError({ status, message }, file, fileList) {\n\t\t\t\tswitch (status) {\n\t\t\t\t\tcase 401:\n\t\t\t\t\t\tthis.$message.error(`错误:401,Token失效,请重新登录!`);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 400:\n\t\t\t\t\t\tmessage = JSON.parse(message);\n\t\t\t\t\t\tthis.$message.error(`错误:400,${message.msg}`);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tthis.$message.error(`错误:${status},${message}!`);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t},\n\t\t\thandleBeforeUpload(file) {\n\t\t\t\tlet reg = /^image\\/(jpe?g|png)$/;\n\t\t\t\tconst isImg = reg.test(file.type);\n\t\t\t\tconst isLt2M = file.size / 1024 / 1024 < 2;\n\t\t\t\tif (!isImg) {\n\t\t\t\t\tthis.$message.error('上传头像图片只能是 JPG/PNG 格式!');\n\t\t\t\t}\n\t\t\t\tif (!isLt2M) {\n\t\t\t\t\tthis.$message.error('上传头像图片大小不能超过 2MB!');\n\t\t\t\t}\n\t\t\t\treturn isImg && isLt2M;\n\t\t\t},\n\t\t\tasync handleMainBeforeRemove(file, fileList) {\n\t\t\t\ttry {\n\t\t\t\t\tlet res1 = await Upload.remove({ src: '.' + file.response.lgImg });\n\t\t\t\t\tlet res2 = await Upload.remove({ src: '.' + file.response.mdImg });\n\t\t\t\t\tif (res1.status && res2.status) {\n\t\t\t\t\t\t//清空图片\n\t\t\t\t\t\tthis.form.img_lg = '';\n\t\t\t\t\t\tthis.form.img_md = '';\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {\n\t\t\t\t\tthis.$message.error(e);\n\t\t\t\t}\n\t\t\t},\n\t\t\thandleCardPreview(file) {\n\t\t\t\tthis.dialogImageUrl = file.url;\n\t\t\t\tthis.dialogVisible = true;\n\t\t\t},\n\t\t\thandleMainExceed(files, fileList) {\n\t\t\t\tthis.$message.warning(`当前限制选择 1 个文件，本次选择了 ${files.length} 个文件，共选择了 ${files.length + fileList.length} 个文件`);\n\t\t\t},\n\t\t\thandleSliderSuccess(response, file, fileList) {\n\t\t\t\tif (response.status) {\n\t\t\t\t\tthis.form.slider = this.convertFileList(fileList);\n\t\t\t\t}\n\t\t\t},\n\t\t\thandleSliderExceed(files, fileList) {\n\t\t\t\tthis.$message.warning(`当前限制选择 6 个文件，本次选择了 ${files.length} 个文件，共选择了 ${files.length + fileList.length} 个文件`);\n\t\t\t},\n\t\t\tasync handleSliderBeforeRemove(file, fileList) {\n\t\t\t\tlet { status } = await Upload.remove({ src: \".\" + file.response.src });\n\t\t\t\tif (status) {\n\t\t\t\t\tlet i = fileList.findIndex(item => item.url == file.response.src);\n\t\t\t\t\tlet copy = [...fileList];\n\t\t\t\t\tcopy.splice(i, 1);\n\t\t\t\t\tthis.form.slider = this.convertFileList(copy);\n\t\t\t\t\treturn true;\n\t\t\t\t} else {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t},\n\t\t\t//转换数据格式\n\t\t\tconvertFileList(fileList) {\n\t\t\t\tlet res = [];\n\t\t\t\tfileList.forEach(function(item, index) {\n\t\t\t\t\tres.push(item.response.src);\n\t\t\t\t});\n\t\t\t\treturn res.toString();\n\t\t\t},\n\t\t\t//发布商品\n\t\t\tasync releaseHandle() {\n\t\t\t\tlet { status } = await Goods.release({ ...this.form });\n\t\t\t\tif (status) {\n\t\t\t\t\tthis.$message.success('发布商品成功！');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n</script>\n<style scoped>\n\t.tip {\n\t\tfont-size: 12px;\n\t\tcolor: #999;\n\t}\n\n\t.section-title {\n\t\tbackground-color: #f5f5f5;\n\t\tpadding: 10px;\n\t\tmargin-bottom: 10px;\n\t}\n\n\t.el-upload img {\n\t\tmax-width: 100%;\n\t}\n\n\t.w-e-toolbar {\n\t\tborder: 1px solid #ccc;\n\t\tborder-bottom: 0;\n\t}\n\n\t.w-e-text-container {\n\t\tborder: 1px solid #ccc;\n\t\tmin-height: 1500px;\n\t\theight: 1500px;\n\t}\n</style>\n"]}]}